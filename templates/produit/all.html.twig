{% extends 'base.html.twig' %}

{% block title %}Touts les produits{% endblock %}

{% block body %}
    <img class="w-full h-[400px]" src="{{ asset('build/img/banniere_tout_produits.png') }}" alt="bannière page tout les produits">
    <div class="grid grid-cols-5 p-15 gap-4">
        <div class="w-full  p-4 bg-white shadow-md rounded-lg">
        <h2 class="text-xl font-semibold mb-4">Filtrer</h2>
            <div class="relative mb-4">
                <button class="w-full text-gray-700 py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
                    Catégories
                </button>
                <div class="hidden absolute w-full mt-1 rounded bg-white shadow-lg">
                    {% for categorie_m in categorie_ps %}
                        {% if categorie_m.parent is null %}
                            <div class="p-2">
                                <a href="{{ path('app_produit_all', {categorie: categorie_m.id}) }}" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white">{{ categorie_m.nom }}</a>
                                {% set has_children = false %}
                                {% for categorie_e in categorie_ps %}
                                    {% if categorie_e.parent and categorie_e.parent.id == categorie_m.id %}
                                        {% if not has_children %}
                                            {% set has_children = true %}
                                            <div class="ml-4">
                                        {% endif %}
                                        <a href="{{ path('app_produit_all', {categorie: categorie_e.id}) }}" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white ml-4">{{ categorie_e.nom }}</a>
                                    {% endif %}
                                {% endfor %}
                                {% if has_children %}
                                    </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-span-4 p-5">
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <div class="flex justify-center items-center">
                            <img src="{{ asset('build/img/livai.png') }}" alt="Figurine Livaï" class="w-auto h-40 object-cover rounded-t-lg">
                        </div>
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Figurine Livaï </h3>
                            <p class="text-secondary font-bold">129.90 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <div class="flex justify-center items-center">
                            <img src="{{ asset('build/img/livai.png') }}" alt="Figurine Livaï" class="w-auto h-40 object-cover rounded-t-lg">
                        </div>
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Figurine Livaï </h3>
                            <p class="text-secondary font-bold">129.90 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <div class="flex justify-center items-center">
                            <img src="{{ asset('build/img/livai.png') }}" alt="Figurine Livaï" class="w-auto h-40 object-cover rounded-t-lg">
                        </div>
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Figurine Livaï </h3>
                            <p class="text-secondary font-bold">129.90 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <div class="flex justify-center items-center">
                            <img src="{{ asset('build/img/livai.png') }}" alt="Figurine Livaï" class="w-auto h-40 object-cover rounded-t-lg">
                        </div>
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Figurine Livaï </h3>
                            <p class="text-secondary font-bold">129.90 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                        <img src="{{ asset('build/img/limonade_japonaise_fraise_200ml.png') }}" alt="Limonade Japonaise À La Fraise 200ml" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">Limonade Japonaise À La Fraise 200ml </h3>
                            <p class="text-secondary font-bold">2.99 €</p>
                        </div>
                    </div>
                
                {% for produit in produits %}
                    <div class="bg-white p-4 rounded-lg shadow-custom">
                    <a href="{{ path('app_produit_details', { 'slug': produit.slug }) }}">
                        <img src="{{ asset('build/img/' ~ produit.img) }}" alt="{{ produit.nom }}" class="w-full h-40 object-cover rounded-t-lg">
                        <div class="mt-2">
                            <h3 class="text-lg font-semibold">{{ produit.nom }} </h3>
                            <p class="text-secondary font-bold">{{ produit.prix }} €</p>
                        </div>
                    </a>
                    </div>
                {% endfor %}
            </div>
            <!-- Pagination -->
            <div class="mt-8">
                <nav class="flex justify-center">
                    <ul class="inline-flex items-center -space-x-px">
                        <li><a href="#" class="px-3 py-2 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700">Précédent</a></li>
                        <li><a href="#" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700">1</a></li>
                        <li><a href="#" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700">2</a></li>
                        <li><a href="#" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700">3</a></li>
                        <li><a href="#" class="px-3 py-2 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700">Suivant</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const dropdownButton = document.querySelector('.dropdown-button');
        const dropdownMenu = document.querySelector('.dropdown-menu');

        dropdownButton.addEventListener('click', function() {
            dropdownMenu.classList.toggle('hidden');
        });
    });
    </script>
{% endblock %}
