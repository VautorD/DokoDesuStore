{% extends 'base.html.twig' %}

{% block title %}Résultats de la recherche{% endblock %}

{% block body %}
<main class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-semibold mb-4">Résultats de la recherche pour "{{ term }}"</h1>

    <section>
        {% if produits is not empty %}
            <h2 class="text-2xl font-semibold mb-2">Produits</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                {% for produit in produits %}
                    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
                        <img src="{{ asset('build/img/' ~ produit.img) }}" alt="{{ produit.nom }}" class="w-full h-40 object-cover object-center">
                        <div class="p-4">
                            <h2 class="text-gray-800 font-bold text-xl mb-2">{{ produit.nom }}</h2>
                            <p class="text-gray-600 text-sm">{{ produit.description }}</p>
                            <p class="mt-2">Prix : <span class="font-bold">{{ produit.prix }} €</span></p>
                            <p class="mt-2">Disponible chez : <a href="{{ path('app_boutique_template', {slug: produit.boutique.slug}) }}" class="text-blue-500 hover:underline">{{ produit.boutique.nom }}</a></p>
                            <div class="flex justify-end mt-4">
                                <a href="{{ path('app_produit_details', {slug: produit.slug}) }}" class="text-blue-500 hover:underline">Voir détails</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-gray-600">Aucun produit trouvé pour "{{ term }}"</p>
        {% endif %}
    </section>

    <section class="mt-8">
        {% if boutiques is not empty %}
            <h2 class="text-2xl font-semibold mb-2">Boutiques</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                {% for boutique in boutiques %}
                    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
                        <img src="{{ asset('img/' ~ boutique.img) }}" alt="{{ boutique.nom }}" class="w-full h-40 object-cover object-center">
                        <div class="p-4">
                            <h2 class="text-gray-800 font-bold text-xl mb-2">{{ boutique.nom }}</h2>
                            <p class="text-gray-600 text-sm">{{ boutique.adresse }}</p>
                            <div class="flex justify-end mt-4">
                                <a href="{{ path('app_boutique_template', {slug: boutique.slug}) }}" class="text-blue-500 hover:underline">Voir détails</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-gray-600">Aucune boutique trouvée pour "{{ term }}"</p>
        {% endif %}
    </section>
</main>
{% endblock %}
